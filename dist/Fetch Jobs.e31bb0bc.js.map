{"version":3,"sources":["utility.js","formatJob.js","Fetch_Job.js","index.js"],"names":["getCurrencySymbol","countryCode","currencydb","in","us","au","ca","gb","fr","de","getFormData","form","Array","from","elements","reduce","acc","id","value","console","log","DisplayJobs","job","currency","created","slice","title","company","display_name","location","redirect_url","FetchJobs","searchFormSelector","resultsSelector","searchForm","document","querySelector","resultsContainer","setCurrencyCode","endpoint","fetch","then","data","json","toLowerCase","currencySymbol","addEventListener","e","preventDefault","innerHTML","search","to_be_appended","endpoint2","response","results","map","join","jobs","jobSearch","setCountryCode","GetForm","icon","toggleSwitch","currentTheme","localStorage","getItem","documentElement","setAttribute","checked","switchTheme","target","setItem","style","transform","color"],"mappings":"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","file":"Fetch Jobs.e31bb0bc.js","sourceRoot":"..","sourcesContent":["\r\nexport const  getCurrencySymbol= countryCode => {\r\nconst currencydb= {\r\n    in:'₹',\r\n    us:'$',\r\n    au:'$',\r\n    ca:'$',\r\n    gb:'£',\r\n    fr:'€',\r\n    de:'€',\r\n};\r\n    return currencydb[countryCode];\r\n};\r\n\r\n\r\nexport const getFormData= form => Array\r\n    .from(form.elements)\r\n    .reduce((acc, { id, value }) => ({ [id]: value, ...acc }), {});  //from Mdn docs\r\n    console.log(\"In getform\");\r\n\r\n\r\n","export const DisplayJobs = (job, currency) =>\r\n    `\r\n        <div class=\"card-data\" data-aos=\"fade-up\">\r\n            <p class=\"job-posting-time\">\r\n                <span>Posted on</span> ${job.created.slice(0, 10)}\r\n            </p>\r\n            <h3>${job.title}</h3>\r\n            <h4>${job.company.display_name}</h4>\r\n            <div class=\"card-footer\">\r\n                <p>${job.location.display_name}</p>\r\n                <a href=\"${job.redirect_url}\" target=\"_blank\">Know More</a>\r\n            </div>\r\n        </div>\r\n        `;\r\n","import { getCurrencySymbol, getFormData } from './utility';\r\nimport { DisplayJobs } from './formatJob';\r\n\r\nexport class FetchJobs {\r\n\r\n    constructor(searchFormSelector, resultsSelector) {\r\n        this.searchForm = document.querySelector(searchFormSelector);\r\n        this.resultsContainer = document.querySelector(resultsSelector);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    setCountryCode() {\r\n        //In case the IP Address API fails, default would be set to India.\r\n        this.countryCode = 'in';\r\n        this.setCurrencyCode();\r\n        const endpoint = 'http://ip-api.com/json';\r\n\r\n\r\n        fetch(endpoint)\r\n            //.then(data => console.log(data))\r\n            .then(data => data.json())\r\n            //.then(console.log('Is it still not working?'))\r\n            .then(data => {\r\n\r\n                this.countryCode = data.countryCode.toLowerCase();\r\n                this.setCurrencyCode();\r\n            });\r\n    }\r\n\r\n    setCurrencyCode() {\r\n        //console.log('The');\r\n        this.currencySymbol = getCurrencySymbol(this.countryCode);\r\n    }\r\n\r\n\r\n    GetForm() {\r\n        this.searchForm.addEventListener('submit', (e) => {\r\n            e.preventDefault();          // prevents from submitting the form\r\n            this.resultsContainer.innerHTML = '';\r\n            console.log('Query accepted');\r\n            const { search, location } = getFormData(this.searchForm);\r\n            console.log(search);\r\n            const to_be_appended = 'https://sounav-sample-be.herokuapp.com/'; //link of the back-end server.\r\n            const endpoint2 = `${to_be_appended}?search=${search}&location=${location}&country=${this.countryCode}`;\r\n            console.log(endpoint2)\r\n            fetch(endpoint2)   //hard-coded local address\r\n                .then(response => response.json())\r\n                .then(({ results }) => {\r\n\r\n                    return results\r\n                        .map(job => DisplayJobs(job, this.currencySymbol))\r\n                        .slice(1, 13)\r\n                        .join('');\r\n                })\r\n                .then(jobs => this.resultsContainer.innerHTML = jobs)\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { FetchJobs } from \"./Fetch_Job\";\r\n\r\nconst jobSearch = new FetchJobs('#search-form', '.cards');\r\njobSearch.setCountryCode();\r\njobSearch.GetForm();\r\n\r\n//Dark mode\r\nconst icon = document.querySelector('.fa-adjust');\r\nconst toggleSwitch = document.querySelector('.theme-switch input[type=\"checkbox\"]');\r\nconst currentTheme = localStorage.getItem('theme');\r\n\r\nif (currentTheme) {\r\n    document.documentElement.setAttribute('data-theme', currentTheme);\r\n\r\n    if (currentTheme === 'dark') {\r\n        toggleSwitch.checked = true;\r\n    }\r\n}\r\n\r\nfunction switchTheme(e) {\r\n    if (e.target.checked) {\r\n        document.documentElement.setAttribute('data-theme', 'dark');\r\n        localStorage.setItem('theme', 'dark');\r\n        icon.style.transform = 'rotate(180deg)';\r\n        icon.style.color = '#202020';\r\n    }\r\n    else {\r\n        document.documentElement.setAttribute('data-theme', 'light');\r\n        localStorage.setItem('theme', 'light');\r\n        icon.style.transform = 'rotate(-180deg)';\r\n        icon.style.color = '#fff';\r\n    }\r\n}\r\n\r\ntoggleSwitch.addEventListener('change', switchTheme, false);"]}